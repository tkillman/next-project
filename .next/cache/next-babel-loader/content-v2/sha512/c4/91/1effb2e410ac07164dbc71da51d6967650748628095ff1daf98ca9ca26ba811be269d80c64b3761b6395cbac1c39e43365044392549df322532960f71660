{"ast":null,"code":"import _ from 'lodash';\nimport dayjs from 'dayjs'; //import { ValueFormatterParams } from '@ag-grid-enterprise/all-modules';\n//import { IRefAgExcelExport } from '~/components/aggrid/AgExcelExport';\n\n/**\r\n *  default value 세팅\r\n *  @param val - original value\r\n *  @defaultValue - 대체 value\r\n */\n\nexport const toDefault = (val, defaultValue) => {\n  try {\n    var _defaultValue;\n\n    defaultValue = (_defaultValue = defaultValue) !== null && _defaultValue !== void 0 ? _defaultValue : '';\n    return val === '' ? defaultValue : _.defaultTo(val, defaultValue);\n  } catch (e) {\n    return defaultValue;\n  }\n};\n/**\r\n * default value 세팅 - parse int\r\n * @param val 숫자형태의 스트링 값\r\n * @param defaultValue 대체 value\r\n */\n\nexport const toDefaultInt = (val, defaultValue) => {\n  try {\n    // defaultValue 에 null 로 셋팅하는 경우도 있으므로 undefined 에 대해서만 0 으로 설정한다.\n    defaultValue = defaultValue === undefined ? 0 : defaultValue;\n    return !!val ? Number(val) : defaultValue;\n  } catch (e) {\n    return defaultValue;\n  }\n};\n/**\r\n *  소수점 자리수만큼 잘러서 반환\r\n * @param val  - 바꿀  숫자\r\n * @param pointCalc - 10: 소수점 한자리만 남긴다, 100: 소수점 2자리...\r\n */\n\nexport const floorCalc = (val, pointCalc) => {\n  return Math.floor(val * pointCalc) / pointCalc;\n};\n/**\r\n *  소수점 한자리까지만 표시해서 반환\r\n * @param val  - 바꿀  숫자\r\n */\n\nexport const floorCalc10 = val => {\n  const paramVal = typeof val === 'string' ? parseFloat(val) : val;\n  return floorCalc(paramVal, 10);\n};\n/**\r\n *  소수점 한자리까지만 표시하고 천단위 콤마찍어서 스트링 형태로 반환\r\n * @param val  - 바꿀  숫자\r\n */\n// export const gridFloorCalcParse = (val: any) => {\n// \treturn val.value !== '' && val.value !== undefined\n// \t\t? convertMoneyText(floorCalc10(val.value).toString())\n// \t\t: '';\n// };\n\n/**\r\n *  돈표시 콤마 표현으로 convert - 일반숫자형태의 스트링을 콤마단위로 찍어서 반환\r\n * @param val 숫자형태의 value\r\n */\n// export const convertMoneyText = (val: string | number | ValueFormatterParams) => {\n// \t// ag-grid의 ValueFormatterParams 형태 인지 여부 true/false\n// \tconst isValueFormat = typeof val === 'object' && 'api' in (val as any);\n// \tconst moneyVal =\n// \t\ttypeof val === 'number'\n// \t\t\t? val.toString()\n// \t\t\t: isValueFormat\n// \t\t\t? (val as ValueFormatterParams).value?.toString()\n// \t\t\t: val;\n// \treturn !!moneyVal ? moneyVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : '0';\n// };\n\nexport const convertHH24mmText = val => {\n  const missVal = typeof val === 'number' ? val.toString() : val;\n  return !!missVal ? missVal.replace(/\\B(?=(\\d{2})+(?!\\d))/g, ':') : '';\n};\n/**\r\n * 사업자번호 변경\r\n * @param val 1515121515 -> 151-51-21515\r\n */\n\nexport const convertCompanynoText = val => {\n  return val.replace(/(\\d{3})(\\d{2})(\\d{5})/, '$1-$2-$3');\n};\n/**\r\n * ZIPCODE 변경 59036 -> 59-036\r\n */\n\nexport const convertZipCodeText = val => {\n  if (!val) {\n    return '';\n  }\n\n  if (val.length === 5) {\n    return val.replace(/(\\d{2})(\\d{3})/, '$1-$2');\n  } else if (val.length === 6) {\n    return val.replace(/(\\d{3})(\\d{3})/, '$1-$2');\n  }\n};\n/**\r\n * ZIP_CODE, ADDR1, ADDR2 를 받아서 (53-776) 주소1 주소2 형식으로 반환\r\n */\n\nexport const convertAddrZipCode = (zipCode, addr1, addr2) => {\n  zipCode = zipCode ? `(${convertZipCodeText(zipCode)}) ` : '';\n  return `${zipCode}${addr1 !== null && addr1 !== void 0 ? addr1 : ''} ${addr2 !== null && addr2 !== void 0 ? addr2 : ''}`;\n};\n/**\r\n * 전화번호, 핸드폰형식으로 변환\r\n * @param val 01099887772\r\n * @param type 0: **** 으로 표시, 1: 모두 표시\r\n */\n\nexport const convertPhoneText = (val, type) => {\n  let formatNum = '';\n\n  if (!val) {\n    return '';\n  }\n\n  if (val.length === 11) {\n    formatNum = type === 0 ? val.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-****-$3') : val.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3');\n  } else if (val.length === 8) {\n    formatNum = val.replace(/(\\d{4})(\\d{4})/, '$1-$2');\n  } else {\n    if (val.indexOf('02') === 0) {\n      formatNum = type === 0 ? val.replace(/(\\d{2})(\\d{4})(\\d{4})/, '$1-****-$3') : val.replace(/(\\d{2})(\\d{4})(\\d{4})/, '$1-$2-$3');\n    } else {\n      formatNum = type === 0 ? val.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-***-$3') : val.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-$2-$3');\n    }\n  }\n\n  return formatNum;\n};\n/**\r\n *  20201123 형태의 날짜값을 2020-11-23 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n * @param charVal  날짜 표시 캐릭터 문자(ex: -)\r\n */\n// export const convertYYYYmmddText = (val: string | number, charVal: string) => {\n// \tconst yyyyMMdd = typeof val === 'number' ? val.toString() : val;\n// \tconst matchResult = yyyyMMdd.match(/^(\\d{4})(\\d{1,2})(\\d{1,2})$/);\n// \tconst isMatch = !!matchResult && matchResult.length > 0;\n// \tconst yyyy = isMatch ? matchResult[1] : '';\n// \tconst mm = isMatch ? matchResult[2] : '';\n// \tconst dd = isMatch ? matchResult[3] : '';\n// \tcharVal = !!charVal ? charVal : '-';\n// \treturn isMatch ? `${yyyy}${charVal}${mm}${charVal}${dd}` : '';\n// };\n\n/**\r\n *  20201123 형태의 날짜값을 2020-11-23 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n */\n\nexport const convertDateText = val => {\n  if (!val) {\n    return '';\n  }\n\n  let result = typeof val === 'number' ? val.toString() : val; // 만약 13자리 주민번호가 파라메터로 들어 왔을 경우\n\n  if (result.length === 13) {\n    result = result.slice(0, 6);\n  } // 860213 형식 convert\n\n\n  if (result.length === 6) {\n    return result.replace(/(\\d{2})(\\d{2})(\\d{2})/, '$1-$2-$3');\n  } // 0000-00-00 형식\n\n\n  if (result === '00000000') {\n    return '0000-00-00';\n  }\n\n  return dayjs(val).format('YYYY-MM-DD');\n};\n/**\r\n *  20201123 형태의 날짜값을 fotmat(YYYY-MM-DD 형태) 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n * @param format  날짜 표시 FORMAT (YYYY-MM-DD)\r\n */\n\nexport const convertDateTextFormat = (val, format) => {\n  if (!val) {\n    return '';\n  }\n\n  return dayjs(val).format(format);\n};\n/**\r\n * 컬럼별 합계 함수\r\n * @param resultData - data\r\n * @param colName - 컬럼명\r\n */\n\nexport const sumCol = (resultData, colName) => {\n  const sumVal = _.sumBy(resultData, val => {\n    var _val$colName;\n\n    return parseFloat((_val$colName = val[colName]) !== null && _val$colName !== void 0 ? _val$colName : 0);\n  });\n\n  return resultData ? sumVal : 0;\n};\n/**\r\n * 여러개 컬럼별 합계 함수\r\n * @param resultData - data\r\n * @param arrayColName - 합계를 가져올 컬럼들 (ex. ['TOT_CNT', 'OK_CNT'])\r\n */\n\nexport const sumArrayCol = (data, arrayColName) => {\n  const rtnVal = {};\n\n  _.each(data, val => {\n    _.each(arrayColName, col => {\n      var _rtnVal$col;\n\n      rtnVal[col] = ((_rtnVal$col = rtnVal[col]) !== null && _rtnVal$col !== void 0 ? _rtnVal$col : 0) + val[col];\n    });\n  });\n\n  return rtnVal;\n};\n/**\r\n * 해당컬럼에서 0보다 큰 값이 있는 개체의 count 수(ex. 기사별 근무현황의 근무계에서 쓰임)\r\n * @param resultData - data\r\n * @param colName - 컬럼명\r\n */\n\nexport const countCol = (resultData, colName) => {\n  return _.filter(resultData, val => val[colName] > 0).length;\n};\n/**\r\n * D01 ~ D31 or A01 ~ A31 까지의 금액 합계\r\n * @param resultData - data\r\n * @param prefix - D01 컬럼이면 D 만 입력 A01 컬럼이면 A 만 입력\r\n */\n\nexport const totAmt = (resultData, prefix) => {\n  const sumVal = _.sumBy(resultData, val => val[prefix + '01'] + val[prefix + '02'] + val[prefix + '03'] + val[prefix + '04'] + val[prefix + '05'] + val[prefix + '06'] + val[prefix + '07'] + val[prefix + '08'] + val[prefix + '09'] + val[prefix + '10'] + val[prefix + '11'] + val[prefix + '12'] + val[prefix + '13'] + val[prefix + '14'] + val[prefix + '15'] + val[prefix + '16'] + val[prefix + '17'] + val[prefix + '18'] + val[prefix + '19'] + val[prefix + '20'] + val[prefix + '21'] + val[prefix + '22'] + val[prefix + '23'] + val[prefix + '24'] + val[prefix + '25'] + val[prefix + '26'] + val[prefix + '27'] + val[prefix + '28'] + val[prefix + '29'] + val[prefix + '30'] + val[prefix + '31']);\n\n  return !resultData ? 0 : sumVal;\n}; // D01 ~ D31 까지의 금액 합계(연산으로 인한 시간소비가 있으므로 고려)\n// export const totAmt = (resultData, prefix) =>\n// \t!resultData\n// \t\t? 0\n// \t\t: _.sumBy(resultData, (val: any) => {\n// \t\t\t\tlet sumVal = 0;\n// \t\t\t\tfor (let i = 1; i <= 31; i++) {\n// \t\t\t\t\tlet colNumNm = prefix;\n// \t\t\t\t\tif (i.toString().length < 2) {\n// \t\t\t\t\t\tcolNumNm += '0';\n// \t\t\t\t\t}\n// \t\t\t\t\tcolNumNm += i.toString();\n// \t\t\t\t\tsumVal += val[colNumNm];\n// \t\t\t\t}\n// \t\t\t\treturn sumVal;\n// \t\t  });\n\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 숫자만 입력받는 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatGeneral = (val, displayType, format) => {\n  const rtnVal = {\n    defaultValue: val,\n    thousandSeparator: false,\n    decimalScale: 0,\n    displayType,\n    format\n  };\n  return rtnVal;\n};\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 천단위로 콤마 찍는 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatThound = (val, displayType) => {\n  const rtnVal = numberFormatGeneral(val, displayType);\n  rtnVal.decimalScale = 0;\n  rtnVal.thousandSeparator = true;\n  return rtnVal;\n};\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 주민번호 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatRegNo = (val, displayType) => {\n  const rtnVal = numberFormatGeneral(val, displayType);\n  rtnVal.format = '######-#######';\n  return rtnVal;\n};\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 패스워드 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatPwd = (val, displayType) => {\n  const rtnVal = {\n    defaultValue: val,\n    type: 'password',\n    displayType\n  };\n  return rtnVal;\n};\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 소수점 형태(ex. 723.15512)\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatFloat = (val, displayType) => {\n  const rtnVal = {\n    defaultValue: val,\n    displayType,\n    decimalScale: 10\n  };\n  return rtnVal;\n};\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 날짜 - YYYY-MM-DD 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\n\nexport const numberFormatYYYYMMDD = (val, displayType) => {\n  const rtnVal = {\n    defaultValue: val,\n    format: '####-##-##',\n    placeholder: 'YYYY-MM-DD',\n    mask: ['Y', 'Y', 'Y', 'Y', 'M', 'M', 'D', 'D'],\n    displayType\n  };\n  return rtnVal;\n};\n/**\r\n * 타겟 json 오브젝트(targetObj)에 base json 오브젝트(baseObj)의 값을 복사에 키값 기준으로 update 한다.\r\n * @param baseObj update 의 기준이 되는 base json 오브젝트\r\n * @param targetObj update 대상이 되는 target json 오브젝트\r\n */\n\nexport const updateObjWithKeys = (baseObj, targetObj) => {\n  _.keys(baseObj).forEach(key => {\n    if (_.has(targetObj, key)) {\n      targetObj[key] = baseObj[key];\n    }\n  });\n};\n/**\r\n * 프로시저 결과값 가져오기 파라메터 타입\r\n * @interface IProcOutCursorResult\r\n */\n\n/** 프로시저 또는 다이나믹쿼리결과값 가져오기 */\nexport const getProcOutCursorResult = ({\n  gqlData,\n  defaultValue,\n  isOnlySingleRow,\n  cursorName,\n  callback\n}) => {\n  const fieldName = gqlData ? Object.keys(gqlData)[0] : '';\n  const data = gqlData ? gqlData[fieldName] : null;\n  const outResult = data ? data.OUT_RESULT : null;\n  const outRetCode = outResult ? data.OUT_RET_CODE : '99';\n  let outCursorResult = null;\n  const curName = cursorName !== null && cursorName !== void 0 ? cursorName : 'OUT_RET_CURSOR';\n  console.log(fieldName);\n  console.log(data);\n  console.log(outResult);\n  console.log(outRetCode);\n  console.log(curName);\n\n  if (outResult && outRetCode === '00' && outResult.length > 0) {\n    var _outResult$0$curName;\n\n    const retCursor = (_outResult$0$curName = outResult[0][curName]) !== null && _outResult$0$curName !== void 0 ? _outResult$0$curName : outResult;\n    console.log(retCursor);\n    outCursorResult = (retCursor === null || retCursor === void 0 ? void 0 : retCursor.length) > 0 ? retCursor : !retCursor && outResult.length > 0 ? outResult : null;\n  } // return value\n\n\n  const rtnValue = outCursorResult ? outCursorResult : defaultValue ? defaultValue : null; // 프로시저 리턴 컬럼중 TOTAL_COUNT 가 있으면 반환\n\n  const totalCount = outCursorResult && outCursorResult.length > 0 && outCursorResult[0].TOTAL_COUNT ? outCursorResult[0].TOTAL_COUNT : 0; // 콜백함수 수행\n\n  callback === null || callback === void 0 ? void 0 : callback(rtnValue, totalCount);\n  return rtnValue;\n};\n/**\r\n * 오브젝트 array 값들중에서\r\n * 지정된 valueField명 labelField명에 해당하는 값을 찾은뒤\r\n * value / label 배열값으로 반환함\r\n */\n\nexport const convertOption = (selectData, valueField, labelField) => {\n  const result = _.map(selectData, val => {\n    const opt = {\n      value: val[valueField],\n      label: val[labelField]\n    };\n    return opt;\n  });\n\n  return result;\n};\n/**\r\n * 엑셀다운로드 파라메터 타입\r\n * @interface IExcelDown\r\n */\n// interface IExcelDown {\n// \trefetchMethod: (vars: any) => Promise<any>;\n// \trefetchVars: any;\n// \trefExcelComponent: MutableRefObject<IRefAgExcelExport>;\n// }\n\n/**\r\n * 엑셀다운로드\r\n * @param params IExcelDown type\r\n */\n// export const excelDown = async (params: IExcelDown) => {\n// \tconst { data } = await params.refetchMethod({\n// \t\t...params.refetchVars\n// \t});\n// \tgetProcOutCursorResult({\n// \t\tgqlData: data,\n// \t\tcallback: (resData, totalCount) => {\n// \t\t\tparams.refExcelComponent.current.setData(resData);\n// \t\t\tparams.refExcelComponent.current.exportExcel();\n// \t\t}\n// \t});\n// };\n\n/** 검색일자 기준 duration 날짜까지 배열 반환\r\n * date: 기준날짜 (YYYYMMDD 형식)\r\n * duration: 반환할 바운더리 날짜\r\n * ex. -7 이면 -7일째부터 기준날짜까지 반환, 7 이면 기준날짜부터 7일째까지 반환\r\n * outFormat: output 반환 날짜 형식\r\n */\n\nexport function* getDuedayArray(date, duration, outFormat) {\n  const nowDay = dayjs(date, 'YYYYMMDD');\n\n  if (duration < 0) {\n    for (let x = 6; x > 0; x--) {\n      yield dayjs(nowDay).add(x * -1, 'day').format('MM/DD');\n    }\n\n    yield nowDay.format('MM/DD');\n  } else {\n    yield nowDay.format('MM/DD');\n\n    for (let x = 0; x < duration; x++) {\n      yield dayjs(nowDay).add(x, 'day').format('MM/DD');\n    }\n  }\n}","map":{"version":3,"sources":["C:/next-project/src/utils/viewUtils.ts"],"names":["_","dayjs","toDefault","val","defaultValue","defaultTo","e","toDefaultInt","undefined","Number","floorCalc","pointCalc","Math","floor","floorCalc10","paramVal","parseFloat","convertHH24mmText","missVal","toString","replace","convertCompanynoText","convertZipCodeText","length","convertAddrZipCode","zipCode","addr1","addr2","convertPhoneText","type","formatNum","indexOf","convertDateText","result","slice","format","convertDateTextFormat","sumCol","resultData","colName","sumVal","sumBy","sumArrayCol","data","arrayColName","rtnVal","each","col","countCol","filter","totAmt","prefix","numberFormatGeneral","displayType","thousandSeparator","decimalScale","numberFormatThound","numberFormatRegNo","numberFormatPwd","numberFormatFloat","numberFormatYYYYMMDD","placeholder","mask","updateObjWithKeys","baseObj","targetObj","keys","forEach","key","has","getProcOutCursorResult","gqlData","isOnlySingleRow","cursorName","callback","fieldName","Object","outResult","OUT_RESULT","outRetCode","OUT_RET_CODE","outCursorResult","curName","console","log","retCursor","rtnValue","totalCount","TOTAL_COUNT","convertOption","selectData","valueField","labelField","map","opt","value","label","getDuedayArray","date","duration","outFormat","nowDay","x","add"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport { MutableRefObject } from 'react';\r\nimport { NumberFormatProps, FormatInputValueFunction } from 'react-number-format';\r\nimport dayjs from 'dayjs';\r\n//import { ValueFormatterParams } from '@ag-grid-enterprise/all-modules';\r\n//import { IRefAgExcelExport } from '~/components/aggrid/AgExcelExport';\r\n\r\n/**\r\n *  default value 세팅\r\n *  @param val - original value\r\n *  @defaultValue - 대체 value\r\n */\r\nexport const toDefault = (val: string, defaultValue?: string) => {\r\n\ttry {\r\n\t\tdefaultValue = defaultValue ?? '';\r\n\r\n\t\treturn val === '' ? defaultValue : _.defaultTo(val, defaultValue);\r\n\t} catch (e) {\r\n\t\treturn defaultValue;\r\n\t}\r\n};\r\n\r\n/**\r\n * default value 세팅 - parse int\r\n * @param val 숫자형태의 스트링 값\r\n * @param defaultValue 대체 value\r\n */\r\nexport const toDefaultInt = (val?: string | number, defaultValue?: number) => {\r\n\ttry {\r\n\t\t// defaultValue 에 null 로 셋팅하는 경우도 있으므로 undefined 에 대해서만 0 으로 설정한다.\r\n\t\tdefaultValue = defaultValue === undefined ? 0 : defaultValue;\r\n\r\n\t\treturn !!val ? Number(val) : defaultValue;\r\n\t} catch (e) {\r\n\t\treturn defaultValue;\r\n\t}\r\n};\r\n\r\n/**\r\n *  소수점 자리수만큼 잘러서 반환\r\n * @param val  - 바꿀  숫자\r\n * @param pointCalc - 10: 소수점 한자리만 남긴다, 100: 소수점 2자리...\r\n */\r\nexport const floorCalc = (val, pointCalc) => {\r\n\treturn Math.floor(val * pointCalc) / pointCalc;\r\n};\r\n\r\n/**\r\n *  소수점 한자리까지만 표시해서 반환\r\n * @param val  - 바꿀  숫자\r\n */\r\nexport const floorCalc10 = val => {\r\n\tconst paramVal = typeof val === 'string' ? parseFloat(val) : val;\r\n\r\n\treturn floorCalc(paramVal, 10);\r\n};\r\n\r\n/**\r\n *  소수점 한자리까지만 표시하고 천단위 콤마찍어서 스트링 형태로 반환\r\n * @param val  - 바꿀  숫자\r\n */\r\n// export const gridFloorCalcParse = (val: any) => {\r\n// \treturn val.value !== '' && val.value !== undefined\r\n// \t\t? convertMoneyText(floorCalc10(val.value).toString())\r\n// \t\t: '';\r\n// };\r\n\r\n/**\r\n *  돈표시 콤마 표현으로 convert - 일반숫자형태의 스트링을 콤마단위로 찍어서 반환\r\n * @param val 숫자형태의 value\r\n */\r\n// export const convertMoneyText = (val: string | number | ValueFormatterParams) => {\r\n// \t// ag-grid의 ValueFormatterParams 형태 인지 여부 true/false\r\n// \tconst isValueFormat = typeof val === 'object' && 'api' in (val as any);\r\n\r\n// \tconst moneyVal =\r\n// \t\ttypeof val === 'number'\r\n// \t\t\t? val.toString()\r\n// \t\t\t: isValueFormat\r\n// \t\t\t? (val as ValueFormatterParams).value?.toString()\r\n// \t\t\t: val;\r\n\r\n// \treturn !!moneyVal ? moneyVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : '0';\r\n// };\r\n\r\nexport const convertHH24mmText = (val: string | number) => {\r\n\tconst missVal = typeof val === 'number' ? val.toString() : val;\r\n\r\n\treturn !!missVal ? missVal.replace(/\\B(?=(\\d{2})+(?!\\d))/g, ':') : '';\r\n};\r\n\r\n/**\r\n * 사업자번호 변경\r\n * @param val 1515121515 -> 151-51-21515\r\n */\r\nexport const convertCompanynoText = (val: string) => {\r\n\treturn val.replace(/(\\d{3})(\\d{2})(\\d{5})/, '$1-$2-$3');\r\n};\r\n\r\n/**\r\n * ZIPCODE 변경 59036 -> 59-036\r\n */\r\nexport const convertZipCodeText = (val: string) => {\r\n\tif (!val) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\tif (val.length === 5) {\r\n\t\treturn val.replace(/(\\d{2})(\\d{3})/, '$1-$2');\r\n\t} else if (val.length === 6) {\r\n\t\treturn val.replace(/(\\d{3})(\\d{3})/, '$1-$2');\r\n\t}\r\n};\r\n\r\n/**\r\n * ZIP_CODE, ADDR1, ADDR2 를 받아서 (53-776) 주소1 주소2 형식으로 반환\r\n */\r\nexport const convertAddrZipCode = (\r\n\tzipCode: string,\r\n\taddr1: string,\r\n\taddr2: string\r\n) => {\r\n\tzipCode = zipCode ? `(${convertZipCodeText(zipCode)}) ` : '';\r\n\r\n\treturn `${zipCode}${addr1 ?? ''} ${addr2 ?? ''}`;\r\n};\r\n\r\n/**\r\n * 전화번호, 핸드폰형식으로 변환\r\n * @param val 01099887772\r\n * @param type 0: **** 으로 표시, 1: 모두 표시\r\n */\r\nexport const convertPhoneText = (val: string, type: 0 | 1) => {\r\n\tlet formatNum = '';\r\n\r\n\tif (!val) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\tif (val.length === 11) {\r\n\t\tformatNum =\r\n\t\t\ttype === 0\r\n\t\t\t\t? val.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-****-$3')\r\n\t\t\t\t: val.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3');\r\n\t} else if (val.length === 8) {\r\n\t\tformatNum = val.replace(/(\\d{4})(\\d{4})/, '$1-$2');\r\n\t} else {\r\n\t\tif (val.indexOf('02') === 0) {\r\n\t\t\tformatNum =\r\n\t\t\t\ttype === 0\r\n\t\t\t\t\t? val.replace(/(\\d{2})(\\d{4})(\\d{4})/, '$1-****-$3')\r\n\t\t\t\t\t: val.replace(/(\\d{2})(\\d{4})(\\d{4})/, '$1-$2-$3');\r\n\t\t} else {\r\n\t\t\tformatNum =\r\n\t\t\t\ttype === 0\r\n\t\t\t\t\t? val.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-***-$3')\r\n\t\t\t\t\t: val.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-$2-$3');\r\n\t\t}\r\n\t}\r\n\r\n\treturn formatNum;\r\n};\r\n\r\n/**\r\n *  20201123 형태의 날짜값을 2020-11-23 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n * @param charVal  날짜 표시 캐릭터 문자(ex: -)\r\n */\r\n// export const convertYYYYmmddText = (val: string | number, charVal: string) => {\r\n// \tconst yyyyMMdd = typeof val === 'number' ? val.toString() : val;\r\n// \tconst matchResult = yyyyMMdd.match(/^(\\d{4})(\\d{1,2})(\\d{1,2})$/);\r\n\r\n// \tconst isMatch = !!matchResult && matchResult.length > 0;\r\n// \tconst yyyy = isMatch ? matchResult[1] : '';\r\n// \tconst mm = isMatch ? matchResult[2] : '';\r\n// \tconst dd = isMatch ? matchResult[3] : '';\r\n// \tcharVal = !!charVal ? charVal : '-';\r\n\r\n// \treturn isMatch ? `${yyyy}${charVal}${mm}${charVal}${dd}` : '';\r\n// };\r\n\r\n/**\r\n *  20201123 형태의 날짜값을 2020-11-23 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n */\r\nexport const convertDateText = (val: string | number) => {\r\n\tif (!val) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\tlet result = typeof val === 'number' ? val.toString() : val;\r\n\r\n\t// 만약 13자리 주민번호가 파라메터로 들어 왔을 경우\r\n\tif (result.length === 13) {\r\n\t\tresult = result.slice(0, 6);\r\n\t}\r\n\r\n\t// 860213 형식 convert\r\n\tif (result.length === 6) {\r\n\t\treturn result.replace(/(\\d{2})(\\d{2})(\\d{2})/, '$1-$2-$3');\r\n\t}\r\n\r\n\t// 0000-00-00 형식\r\n\tif (result === '00000000') {\r\n\t\treturn '0000-00-00';\r\n\t}\r\n\r\n\treturn dayjs(val).format('YYYY-MM-DD');\r\n};\r\n\r\n/**\r\n *  20201123 형태의 날짜값을 fotmat(YYYY-MM-DD 형태) 스트링으로 변경해서 반환\r\n * @param val 변경할 숫자값(ex: 20201123)\r\n * @param format  날짜 표시 FORMAT (YYYY-MM-DD)\r\n */\r\nexport const convertDateTextFormat = (val: string | number, format: string) => {\r\n\tif (!val) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\treturn dayjs(val).format(format);\r\n};\r\n\r\n/**\r\n * 컬럼별 합계 함수\r\n * @param resultData - data\r\n * @param colName - 컬럼명\r\n */\r\nexport const sumCol = (resultData: any, colName: string) => {\r\n\tconst sumVal = _.sumBy(resultData, (val: any) => parseFloat(val[colName] ?? 0));\r\n\r\n\treturn resultData ? sumVal : 0;\r\n};\r\n\r\n/**\r\n * 여러개 컬럼별 합계 함수\r\n * @param resultData - data\r\n * @param arrayColName - 합계를 가져올 컬럼들 (ex. ['TOT_CNT', 'OK_CNT'])\r\n */\r\nexport const sumArrayCol = <T extends object>(\r\n\tdata: T[],\r\n\tarrayColName: Array<keyof T>\r\n): T => {\r\n\tconst rtnVal: any = {};\r\n\r\n\t_.each(data, val => {\r\n\t\t_.each(arrayColName, col => {\r\n\t\t\trtnVal[col] = (rtnVal[col] ?? 0) + val[col];\r\n\t\t});\r\n\t});\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * 해당컬럼에서 0보다 큰 값이 있는 개체의 count 수(ex. 기사별 근무현황의 근무계에서 쓰임)\r\n * @param resultData - data\r\n * @param colName - 컬럼명\r\n */\r\nexport const countCol = (resultData: any, colName: string) => {\r\n\treturn _.filter(resultData, val => val[colName] > 0).length;\r\n};\r\n\r\n/**\r\n * D01 ~ D31 or A01 ~ A31 까지의 금액 합계\r\n * @param resultData - data\r\n * @param prefix - D01 컬럼이면 D 만 입력 A01 컬럼이면 A 만 입력\r\n */\r\nexport const totAmt = (resultData: any, prefix: string) => {\r\n\tconst sumVal = _.sumBy(\r\n\t\tresultData,\r\n\t\t(val: any) =>\r\n\t\t\tval[prefix + '01'] +\r\n\t\t\tval[prefix + '02'] +\r\n\t\t\tval[prefix + '03'] +\r\n\t\t\tval[prefix + '04'] +\r\n\t\t\tval[prefix + '05'] +\r\n\t\t\tval[prefix + '06'] +\r\n\t\t\tval[prefix + '07'] +\r\n\t\t\tval[prefix + '08'] +\r\n\t\t\tval[prefix + '09'] +\r\n\t\t\tval[prefix + '10'] +\r\n\t\t\tval[prefix + '11'] +\r\n\t\t\tval[prefix + '12'] +\r\n\t\t\tval[prefix + '13'] +\r\n\t\t\tval[prefix + '14'] +\r\n\t\t\tval[prefix + '15'] +\r\n\t\t\tval[prefix + '16'] +\r\n\t\t\tval[prefix + '17'] +\r\n\t\t\tval[prefix + '18'] +\r\n\t\t\tval[prefix + '19'] +\r\n\t\t\tval[prefix + '20'] +\r\n\t\t\tval[prefix + '21'] +\r\n\t\t\tval[prefix + '22'] +\r\n\t\t\tval[prefix + '23'] +\r\n\t\t\tval[prefix + '24'] +\r\n\t\t\tval[prefix + '25'] +\r\n\t\t\tval[prefix + '26'] +\r\n\t\t\tval[prefix + '27'] +\r\n\t\t\tval[prefix + '28'] +\r\n\t\t\tval[prefix + '29'] +\r\n\t\t\tval[prefix + '30'] +\r\n\t\t\tval[prefix + '31']\r\n\t);\r\n\r\n\treturn !resultData ? 0 : sumVal;\r\n};\r\n\r\n// D01 ~ D31 까지의 금액 합계(연산으로 인한 시간소비가 있으므로 고려)\r\n// export const totAmt = (resultData, prefix) =>\r\n// \t!resultData\r\n// \t\t? 0\r\n// \t\t: _.sumBy(resultData, (val: any) => {\r\n// \t\t\t\tlet sumVal = 0;\r\n\r\n// \t\t\t\tfor (let i = 1; i <= 31; i++) {\r\n// \t\t\t\t\tlet colNumNm = prefix;\r\n\r\n// \t\t\t\t\tif (i.toString().length < 2) {\r\n// \t\t\t\t\t\tcolNumNm += '0';\r\n// \t\t\t\t\t}\r\n\r\n// \t\t\t\t\tcolNumNm += i.toString();\r\n\r\n// \t\t\t\t\tsumVal += val[colNumNm];\r\n// \t\t\t\t}\r\n\r\n// \t\t\t\treturn sumVal;\r\n// \t\t  });\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 숫자만 입력받는 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatGeneral = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text',\r\n\tformat?: string | FormatInputValueFunction\r\n) => {\r\n\tconst rtnVal: NumberFormatProps = {\r\n\t\tdefaultValue: val,\r\n\t\tthousandSeparator: false,\r\n\t\tdecimalScale: 0,\r\n\t\tdisplayType,\r\n\t\tformat\r\n\t};\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 천단위로 콤마 찍는 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatThound = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text'\r\n): NumberFormatProps => {\r\n\tconst rtnVal = numberFormatGeneral(val, displayType);\r\n\r\n\trtnVal.decimalScale = 0;\r\n\trtnVal.thousandSeparator = true;\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 주민번호 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatRegNo = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text'\r\n): NumberFormatProps => {\r\n\tconst rtnVal = numberFormatGeneral(val, displayType);\r\n\trtnVal.format = '######-#######';\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 패스워드 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatPwd = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text'\r\n): NumberFormatProps => {\r\n\tconst rtnVal: NumberFormatProps = {\r\n\t\tdefaultValue: val,\r\n\t\ttype: 'password',\r\n\t\tdisplayType\r\n\t};\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 소수점 형태(ex. 723.15512)\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatFloat = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text'\r\n): NumberFormatProps => {\r\n\tconst rtnVal: NumberFormatProps = {\r\n\t\tdefaultValue: val,\r\n\t\tdisplayType,\r\n\t\tdecimalScale: 10\r\n\t};\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * react-number-format 컨트롤에 전달할 프로퍼티값\r\n * 참고: https://github.com/s-yadav/react-number-format\r\n * 날짜 - YYYY-MM-DD 형식\r\n * @param val - 디폴트값\r\n * @param displayType - 'input' | 'text'\r\n */\r\nexport const numberFormatYYYYMMDD = (\r\n\tval: string,\r\n\tdisplayType: 'input' | 'text'\r\n) => {\r\n\tconst rtnVal: NumberFormatProps = {\r\n\t\tdefaultValue: val,\r\n\t\tformat: '####-##-##',\r\n\t\tplaceholder: 'YYYY-MM-DD',\r\n\t\tmask: ['Y', 'Y', 'Y', 'Y', 'M', 'M', 'D', 'D'],\r\n\t\tdisplayType\r\n\t};\r\n\r\n\treturn rtnVal;\r\n};\r\n\r\n/**\r\n * 타겟 json 오브젝트(targetObj)에 base json 오브젝트(baseObj)의 값을 복사에 키값 기준으로 update 한다.\r\n * @param baseObj update 의 기준이 되는 base json 오브젝트\r\n * @param targetObj update 대상이 되는 target json 오브젝트\r\n */\r\nexport const updateObjWithKeys = (baseObj, targetObj) => {\r\n\t_.keys(baseObj).forEach(key => {\r\n\t\tif (_.has(targetObj, key)) {\r\n\t\t\ttargetObj[key] = baseObj[key];\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * 프로시저 결과값 가져오기 파라메터 타입\r\n * @interface IProcOutCursorResult\r\n */\r\ninterface IProcOutCursorResult {\r\n\tgqlData: any;\r\n\tdefaultValue?: any;\r\n\tisOnlySingleRow?: boolean;\r\n\tcursorName?: string;\r\n\tcallback?: (resultData: any, totalCount?: number) => void;\r\n}\r\n\r\n/** 프로시저 또는 다이나믹쿼리결과값 가져오기 */\r\nexport const getProcOutCursorResult = <T = any>({\r\n\tgqlData,\r\n\tdefaultValue,\r\n\tisOnlySingleRow,\r\n\tcursorName,\r\n\tcallback\r\n}: IProcOutCursorResult) => {\r\n\tconst fieldName = gqlData ? Object.keys(gqlData)[0] : '';\r\n\tconst data = gqlData ? gqlData[fieldName] : null;\r\n\tconst outResult = data ? data.OUT_RESULT : null;\r\n\tconst outRetCode = outResult ? data.OUT_RET_CODE : '99';\r\n\tlet outCursorResult = null;\r\n\tconst curName = cursorName ?? 'OUT_RET_CURSOR';\r\n\r\n\tconsole.log(fieldName);\r\n\tconsole.log(data);\r\n\tconsole.log(outResult);\r\n\tconsole.log(outRetCode);\r\n\tconsole.log(curName);\r\n\r\n\tif (outResult && outRetCode === '00' && outResult.length > 0) {\r\n\t\tconst retCursor = outResult[0][curName] ?? outResult;\r\n\t\tconsole.log(retCursor);\r\n\t\toutCursorResult =\r\n\t\t\tretCursor?.length > 0\r\n\t\t\t\t? retCursor\r\n\t\t\t\t: !retCursor && outResult.length > 0\r\n\t\t\t\t? outResult\r\n\t\t\t\t: null;\r\n\t}\r\n\r\n\t// return value\r\n\tconst rtnValue = outCursorResult\r\n\t\t? outCursorResult\r\n\t\t: defaultValue\r\n\t\t? defaultValue\r\n\t\t: null;\r\n\r\n\t// 프로시저 리턴 컬럼중 TOTAL_COUNT 가 있으면 반환\r\n\tconst totalCount =\r\n\t\toutCursorResult && outCursorResult.length > 0 && outCursorResult[0].TOTAL_COUNT\r\n\t\t\t? outCursorResult[0].TOTAL_COUNT\r\n\t\t\t: 0;\r\n\r\n\t// 콜백함수 수행\r\n\tcallback?.(rtnValue, totalCount);\r\n\r\n\treturn rtnValue as T;\r\n};\r\n\r\n/**\r\n * 오브젝트 array 값들중에서\r\n * 지정된 valueField명 labelField명에 해당하는 값을 찾은뒤\r\n * value / label 배열값으로 반환함\r\n */\r\nexport const convertOption = (\r\n\tselectData: any[],\r\n\tvalueField: string,\r\n\tlabelField: string\r\n): Array<{\r\n\tvalue: string;\r\n\tlabel: string;\r\n}> => {\r\n\tconst result = _.map(selectData, val => {\r\n\t\tconst opt = {\r\n\t\t\tvalue: val[valueField],\r\n\t\t\tlabel: val[labelField]\r\n\t\t};\r\n\r\n\t\treturn opt;\r\n\t});\r\n\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * 엑셀다운로드 파라메터 타입\r\n * @interface IExcelDown\r\n */\r\n// interface IExcelDown {\r\n// \trefetchMethod: (vars: any) => Promise<any>;\r\n// \trefetchVars: any;\r\n// \trefExcelComponent: MutableRefObject<IRefAgExcelExport>;\r\n// }\r\n\r\n/**\r\n * 엑셀다운로드\r\n * @param params IExcelDown type\r\n */\r\n// export const excelDown = async (params: IExcelDown) => {\r\n// \tconst { data } = await params.refetchMethod({\r\n// \t\t...params.refetchVars\r\n// \t});\r\n\r\n// \tgetProcOutCursorResult({\r\n// \t\tgqlData: data,\r\n// \t\tcallback: (resData, totalCount) => {\r\n// \t\t\tparams.refExcelComponent.current.setData(resData);\r\n// \t\t\tparams.refExcelComponent.current.exportExcel();\r\n// \t\t}\r\n// \t});\r\n// };\r\n\r\n/** 검색일자 기준 duration 날짜까지 배열 반환\r\n * date: 기준날짜 (YYYYMMDD 형식)\r\n * duration: 반환할 바운더리 날짜\r\n * ex. -7 이면 -7일째부터 기준날짜까지 반환, 7 이면 기준날짜부터 7일째까지 반환\r\n * outFormat: output 반환 날짜 형식\r\n */\r\nexport function* getDuedayArray(\r\n\tdate: string,\r\n\tduration: number,\r\n\toutFormat: string\r\n) {\r\n\tconst nowDay = dayjs(date, 'YYYYMMDD');\r\n\r\n\tif (duration < 0) {\r\n\t\tfor (let x = 6; x > 0; x--) {\r\n\t\t\tyield dayjs(nowDay)\r\n\t\t\t\t.add(x * -1, 'day')\r\n\t\t\t\t.format('MM/DD');\r\n\t\t}\r\n\r\n\t\tyield nowDay.format('MM/DD');\r\n\t} else {\r\n\t\tyield nowDay.format('MM/DD');\r\n\r\n\t\tfor (let x = 0; x < duration; x++) {\r\n\t\t\tyield dayjs(nowDay)\r\n\t\t\t\t.add(x, 'day')\r\n\t\t\t\t.format('MM/DD');\r\n\t\t}\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}