{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\next-project\\\\src\\\\utils\\\\withAuth.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\n\nvar withAuth = function withAuth(AppComponent) {\n  var menuAuthCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return /*#__PURE__*/function (_React$Component) {\n    _inherits(AuthComponent, _React$Component);\n\n    var _super = _createSuper(AuthComponent);\n\n    function AuthComponent(props) {\n      var _this;\n\n      _classCallCheck(this, AuthComponent);\n\n      _this = _super.call(this, props);\n      _this.state = {\n        isOpen: true,\n        defaultUrl: '/login',\n        modalBodyContents: ''\n      };\n      return _this;\n    }\n\n    _createClass(AuthComponent, [{\n      key: \"render\",\n      value: function render() {\n        return __jsx(React.Fragment, null, __jsx(AppComponent, _extends({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 22\n          }\n        })));\n      }\n    }], [{\n      key: \"getInitialProps\",\n      value: function () {\n        var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n          var apolloClient, ctx, appProps, initProps, res;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  apolloClient = _ref.apolloClient, ctx = _objectWithoutProperties(_ref, [\"apolloClient\"]);\n                  appProps = {};\n\n                  if (!AppComponent.getInitialProps) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  initProps = _objectSpread({\n                    apolloClient: apolloClient\n                  }, ctx);\n                  _context.next = 6;\n                  return AppComponent.getInitialProps(initProps);\n\n                case 6:\n                  appProps = _context.sent;\n\n                case 7:\n                  res = {}; //const refUrl = !!ctx.pathname ? ctx.pathname : '';\n\n                  return _context.abrupt(\"return\", _objectSpread({}, appProps));\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function getInitialProps(_x) {\n          return _getInitialProps.apply(this, arguments);\n        }\n\n        return getInitialProps;\n      }()\n    }]);\n\n    return AuthComponent;\n  }(React.Component);\n};\n\nexport default withAuth;","map":{"version":3,"sources":["C:/next-project/src/utils/withAuth.tsx"],"names":["React","withAuth","AppComponent","menuAuthCheck","props","state","isOpen","defaultUrl","modalBodyContents","apolloClient","ctx","appProps","getInitialProps","initProps","res","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAWA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAChBC,YADgB,EAGZ;AAAA,MADJC,aACI,uEADqB,IACrB;AAED;AAAA;;AAAA;;AAyBI,2BAAmBC,KAAnB,EAA0B;AAAA;;AAAA;;AACtB,gCAAMA,KAAN;AACA,YAAKC,KAAL,GAAa;AACTC,QAAAA,MAAM,EAAG,IADA;AAERC,QAAAA,UAAU,EAAG,QAFL;AAGPC,QAAAA,iBAAiB,EAAG;AAHb,OAAb;AAFsB;AAOzB;;AAhCL;AAAA;AAAA,aAkCI,kBAAgB;AACZ,eACI,4BACK,MAAC,YAAD,eAAkB,KAAKJ,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADL,CADJ;AAKH;AAxCL;AAAA;AAAA;AAAA,wFAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqCK,kBAAAA,YAArC,QAAqCA,YAArC,EAAsDC,GAAtD;AACQC,kBAAAA,QADR,GACmB,EADnB;;AAAA,uBAGQT,YAAY,CAACU,eAHrB;AAAA;AAAA;AAAA;;AAIcC,kBAAAA,SAJd;AAKHJ,oBAAAA,YAAY,EAAZA;AALG,qBAMAC,GANA;AAAA;AAAA,yBAQyBR,YAAY,CAACU,eAAb,CAA6BC,SAA7B,CARzB;;AAAA;AAQQF,kBAAAA,QARR;;AAAA;AAWUG,kBAAAA,GAXV,GAWgB,EAXhB,EAaI;;AAbJ,qEAeWH,QAfX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,IAAmCX,KAAK,CAACe,SAAzC;AA0CH,CA/CD;;AAiDA,eAAed,QAAf","sourcesContent":["import React from 'react';\r\nimport { NextPage } from 'next';\r\nimport redirect from '~/utils/redirect';\r\nimport { INextContextWithApollo } from '~/types/nextContext';\r\n\r\ninterface IState {\r\n\tisOpen: boolean;\r\n\tdefaultUrl: string;\r\n\tmodalBodyContents: string;\r\n}\r\n\r\nconst withAuth = <T, K extends object>(\r\n\tAppComponent: NextPage<T, K>,\r\n\tmenuAuthCheck: boolean = true\r\n) => {\r\n\r\n    return class AuthComponent extends React.Component<T, IState> {\r\n        \r\n        public static async getInitialProps({apolloClient, ...ctx} : INextContextWithApollo){\r\n            let appProps = {};\r\n\r\n            if (AppComponent.getInitialProps) {\r\n                const initProps = {\r\n\t\t\t\t\tapolloClient,\r\n\t\t\t\t\t...ctx\r\n\t\t\t\t};\r\n                appProps = await AppComponent.getInitialProps(initProps);\r\n            }\r\n\r\n            const res = {};\r\n\r\n            //const refUrl = !!ctx.pathname ? ctx.pathname : '';\r\n            return {\r\n                ...appProps\r\n                //,loginInfo: res.data.getLoginSession.OUT_RESULT[0],\r\n                //menuAuth: resultMenuAuthData ? resultMenuAuthData[0] : null\r\n            };\r\n\r\n        }\r\n        \r\n        \r\n        public constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                isOpen : true\r\n                ,defaultUrl : '/login'\r\n                , modalBodyContents : ''\r\n            }\r\n        }\r\n        \r\n        public render() {\r\n            return(\r\n                <>\r\n                    {<AppComponent {...this.props} />}\r\n                </>\r\n            )\r\n        }\r\n    };\r\n};\r\n\r\nexport default withAuth;"]},"metadata":{},"sourceType":"module"}